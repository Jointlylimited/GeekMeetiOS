//
//  UserProfilePresenter.swift
//  GeekMeets
//
//  Created by SOTSYS216 on 20/04/20.
//  Copyright (c) 2020 SOTSYS203. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so
//  you can apply clean architecture to your iOS and Mac projects,
//  see http://clean-swift.com
//

import UIKit

protocol UserProfilePresentationProtocol {
    func callSignUpRequest(signUpParams : Dictionary<String, String>,profileimg: UIImage)
}

class UserProfilePresenter: UserProfilePresentationProtocol {
    weak var viewController: UserProfileProtocol?
    var interactor: UserProfileInteractorProtocol?
  
    
    
  func callSignUpRequest(signUpParams : Dictionary<String, String>,profileimg: UIImage){
        if validateSignUpParams(param: signUpParams) {
           
            self.actionContinue(signUpParams : signUpParams,profileimg: profileimg)
        }
    }
    
    func validateSignUpParams(param : Dictionary<String, String>) -> Bool {
        
        if String(describing: param["vName"]!).isEmpty {
            self.viewController?.displayAlert(strTitle: "", strMessage: kEnterUserName)
            return false
        }
        
        if String(describing: param["dDob"]!).isEmpty {
            self.viewController?.displayAlert(strTitle: "", strMessage: kEnterDoBProper)
            return false
        }
        
        if String(describing: param["txCompanyDetail"]!).isEmpty {
            if String(describing: param["iCurrentStatus"]!) == "1" {
                self.viewController?.displayAlert(strTitle: "", strMessage: kEnterCompanyDetail)
                return false
            }else{
          
            self.viewController?.displayAlert(strTitle: "", strMessage: kEnterCollageSchoolDetail)
            return false
          }
        }
        
        if String(describing: param["txAbout"]!).isEmpty {
            self.viewController?.displayAlert(strTitle: "", strMessage: kEnterUserAbout)
            return false
        }
        
        if String(describing: param["vProfileImage"]!).isEmpty {
            self.viewController?.displayAlert(strTitle: "", strMessage: kSelectUserProfile)
            return false
        }
        return true
    }
    
    func actionContinue(signUpParams : Dictionary<String, String>,profileimg: UIImage){
        
        let controller = GeekMeets_StoryBoard.LoginSignUp.instantiateViewController(withIdentifier: GeekMeets_ViewController.AddPhotos)  as! AddPhotosViewController
        controller.signUpParams = signUpParams
        controller.imgProfile = profileimg
        if let view = self.viewController as? UIViewController
        {
            view.pushVC(controller)
        }
    }
}
